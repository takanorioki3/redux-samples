@import url(https://fonts.googleapis.com/css?family=Roboto:400,500);
@import "normalize";
@import "font-awesome/font-awesome";
@import "easings";
@import "mixins";


//== Variables
$color-primary:#158bec;
$color-bg:#282c34;
$color-divider:#eee;
$color-text-primary:#abb2bf;
$color-text-link:lighten($color-primary, 10%);
$navigation-width:100px;
$control-height:46px;


//== Basic styles
* {
  box-sizing:border-box;
}

html,
body {
  width:100%;
  height:100%;
  color:$color-text-primary;
  font-family:"Roboto", "游ゴシック", YuGothic, "ヒラギノ角ゴ Pro W3", "ヒラギノ角ゴ Pro", "Hiragino Kaku Gothic Pro", "Hiragino Kaku Gothic ProN", Arial, Helvetica, メイリオ, Meiryo, sans-serif;
  font-size:16px;
}

body {
  background:$color-bg;
}

a {
  color:$color-text-link;
  text-decoration:none;
  transition:all .2s $ease-out-quart;
  &:hover {
    color:darken($color-text-link, 20%);
    text-decoration:none;
  }
}

img {
  max-width:100%;
  height:auto;
}

input[type="text"],
textarea {
  color:$color-bg;
  background:#fff;
  box-shadow:0;
  transition-timing-function:$ease-out-quart;
  transition-duration:.2s;
  transition-property:box-shadow, background;
  &:focus {
    outline:none;
    background:darken(#fff, 8%);
    box-shadow:0 0 8px rgba(0, 0, 0, .3) inset;
  }
}

::selection {
  background:lighten($color-primary, 20%);
}


@mixin _btn-theme-factory($color, $background-color) {
  color:$color;
  background-color:$background-color;
  &:hover {
    color:$color;
    background-color:darken($background-color, 8%);
  }
  &:active {
    color:$color;
    background-color:darken($background-color, 12%);
  }
}

.btn {
  $height:$control-height;

  display:inline-block;
  height:$height;
  padding:6px 12px;
  cursor:pointer;
  user-select:none;
  font-size:1rem;
  font-weight:normal;
  text-align:center;
  vertical-align:middle;
  white-space:nowrap;
  text-decoration:none;
  border:0;
  transition:all .2s $ease-out-quart;
  touch-action:manipulation;
  &:focus {
    outline:none;
  }

  @include m(default) {
    @extend .btn;
    @include _btn-theme-factory($color-text-primary, darken($color-bg, 5%));
  }

  @include m(primary) {
    @extend .btn;
    @include _btn-theme-factory(#fff, $color-primary);
  }

  @include m(danger) {
    // @include _btn-theme-factory(#fff, $color-red);
  }
}


// Input Group
.input-group {
  $height:$control-height;
  $padding:8px 14px;
  $font-size:16px;
  $border-width:1px;
  $border-color:$color-text-primary;

  display:table;
  box-sizing:border-box;
  width:100%;
  border-collapse:separate;
  font-size:$font-size;

  @include m(search) {
    max-width:600px;
    margin-right:auto;
    margin-left:auto;
  }

  @include e(control) {
    display:table-cell;
    float:left;
    box-sizing:border-box;
    width:100%;
    height:$height;
    margin:0;
    padding:$padding;
    font-family:inherit;
    font-size:$font-size;
    line-height:1.5;
    border:$border-width solid $border-color;
    border-radius:0;

    appearance:none;
    & + .input-group__addon {
      border-width:$border-width $border-width $border-width 0;
    }
  }

  @include e(addon, btn) {
    display:table-cell;
    box-sizing:border-box;
    width:1%;
    height:$height;
    padding:$padding;
    line-height:1;
    text-align:center;
    vertical-align:middle;
    white-space:nowrap;
    border-width:$border-width 0 $border-width $border-width;
    border-style:solid;
    border-color:$border-color;
  }

  @include e(btn) {
    @include m(search) {
      width:70px;
      .btn {
        width:100%;
      }
    }
    padding:0;
    border:0;
  }
}


//== Page
.page {
  ul {
    list-style:none;
    padding-left:0;
  }

  h3 {
    margin-top:2rem;
    margin-bottom:1rem;
    font-size:1.6rem;
  }

  @include m(index) {
    @extend .page;
    text-align:center;
  }

  @include m(about) {
    @extend .page;
    text-align:center;
  }
}


//== Navigation
.navigation {
  position:fixed;
  z-index:8000;
  top:0;
  left:0;
  width:$navigation-width;
  height:100%;
  color:#fff;
  text-align:center;
  background:darken($color-bg, 5%);

  @include e(logo) {
    $height:$navigation-width;
    height:$height;
    margin:0;
    font-size:2rem;
    background:darken($color-bg, 7%);
    > a {
      display:block;
      color:$color-primary;
      line-height:$height;
      &:hover {
        color:#fff;
        background:$color-primary;
      }
    }
  }

  @include e(menu) {
    margin:0;
    padding:0;
  }

  @include e(item) {
    list-style:none;
    font-size:.7rem;
    text-align:center;
    border-bottom:1px solid darken($color-bg, 7%);
    > a {
      display:block;
      padding:1rem 0;
      color:#fff;
      &:hover,
      &.active {
        color:#fff;
        background:$color-primary;
      }
      .fa {
        display:block;
        margin-bottom:.5rem;
        font-size:1.5rem;
      }
      > span {
        display:block;
        letter-spacing:.05em;
      }
    }
  }
}


//== Layouts
.contents {
  clear:both;
  padding:60px 60px 60px $navigation-width + 60px;
}


//== Footer
.footer {
  position:fixed;
  z-index:8000;
  right:0;
  bottom:0;
  padding:15px;
}


//== Copyright
.copyright {
  margin:0;
  font-size:.7rem;
  line-height:1.4;
  text-align:center;
  letter-spacing:.05em;
}


//== Page Header
.page-header {
  position:relative;
  margin:0 0 2rem 0;
  text-align:center;

  @include e(icon) {
    @extend .fa;
    margin-right:.5rem;
    font-size:2rem;
    vertical-align:baseline;
  }

  @include e(title) {
    display:inline-block;
    margin:0;
    font-size:2rem;
    letter-spacing:.05em;
  }
}


//== Repository
.repositories {
  margin:1rem -1rem;
}

.repository {
  @include clearfix();
  display:inline-block;
  width:50%;
  margin:1rem 0;
  vertical-align:top;

  @include e(inner) {
    position:relative;
    margin:0 1rem;
    padding:1rem;
    border-radius:3px;
    background:#333842;
    box-shadow:0 2px 4px rgba(0, 0, 0, .2);
  }

  @include e(avatar) {
    display:inline-block;
    float:left;
    overflow:hidden;
    width:60px;
    height:60px;
    margin-right:1rem;
    border-radius:100%;
  }

  @include e(body) {
    overflow:hidden;
  }

  @include e(title) {
    margin:0 0 1rem 0;
    font-size:1.4rem;
    line-height:1.2;
  }

  @include e(description) {
    margin:1rem 0;
    font-size:.8rem;
    line-height:1.6;
  }

  @include e(info) {
    margin:0;
    padding:0;
    list-style:none;
    @include e(item) {
      display:inline-block;
      margin-right:1rem;
      font-size:.8rem;
    }
  }

  @include e(date) {
    position:absolute;
    top:1.4rem;
    right:1rem;
    margin:0;
    color:darken($color-text-primary, 15%);
    font-size:.8rem;
    letter-spacing:.05em;
  }

  @include m(sm) {
    @include e(link) {
      display:table;
      width:100%;
      padding:1rem;
      table-layout:fixed;
    }
    @include e(avatar, title, meta) {
      display:table-cell;
      vertical-align:middle;
      margin:0;
    }
    @include e(avatar) {
      overflow:hidden;
      width:30px;
      height:30px;
      border-radius:100%;
      img {
        max-width:none;
        width:100%;
        height:auto;
        vertical-align:top;
      }
    }
    @include e(title) {
      width:80%;
      padding:0 0 0 .5rem;
    }
    @include e(meta) {
      font-size:.8rem;
      color:#fff;
      text-align:right;
    }
  }
}


//== Trending
.trendings {
  margin:1rem -1rem;

  @include e(item) {
    @include clearfix();
    display:inline-block;
    width:50%;
    margin:1rem 0;
    vertical-align:top;
  }
}

.trending {

  @include e(inner) {
    position:relative;
    margin:0 1rem;
    border-radius:3px;
    background:#333842;
    box-shadow:0 2px 4px rgba(0, 0, 0, .2);
  }

  @include e(title) {
    margin:0;
    padding:1rem;
    color:#fff;
    font-size:1.6rem;
    text-align:center;
    background:darken(#333842, 8%);
    border-radius:3px 3px 0 0;
  }

  @include e(list) {
    margin:0;
    padding:0;
    list-style:none;
    @include e(item) {
      & + & {
        border-top:1px solid darken(#333842, 5%);
      }
    }
  }
}


// Loader
.loader {
  @include e(inner) {
    display:inline-block;
    width:100%;
    vertical-align:top;
    background-color:rgb(0, 0, 0);
    animation:loader-inner 1.6s infinite ease-in;
  }
  @include m(hidden) {
    display:none;
  }
  position:relative;
  display:block;
  width:29px;
  height:29px;
  margin:0 auto;
  border:4px solid rgb(0, 0, 0);
  animation:loader 1.6s infinite ease;
}

@keyframes loader {
  0% {
    transform:rotate(0deg);
  }

  25% {
    transform:rotate(180deg);
  }

  50% {
    transform:rotate(180deg);
  }

  75% {
    transform:rotate(360deg);
  }

  100% {
    transform:rotate(360deg);
  }
}


@keyframes loader-inner {
  0% {
    height:0;
  }

  25% {
    height:0;
  }

  50% {
    height:100%;
  }

  75% {
    height:100%;
  }

  100% {
    height:0;
  }
}
